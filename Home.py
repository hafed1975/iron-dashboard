import streamlit as st

# --- (1) "ุฏุงูุฉ" (Function) ูุญุต ูููุฉ ุงููุฑูุฑ ---
def check_password():
    # (ุฃ) ุงูุชุญูู ููุง ุฅุฐุง ููุง ูุฏ ุณุฌููุง ุงูุฏุฎูู ุจุงููุนู
    if st.session_state.get("password_correct", False):
        return True

    # (ุจ) ุฅุฐุง ูู ูุณุฌู ุงูุฏุฎููุ ุงุนุฑุถ "ุดุงุดุฉ" (Screen) ูููุฉ ุงููุฑูุฑ
    st.set_page_config(page_title="I.R.O.N Login", page_icon="๐")
    st.title("๐ ุงููุตุงุฏูุฉ ูุทููุจุฉ")
    st.write("ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ ูููุตูู ุฅูู ููุญุฉ ุงูุชุญูู.")

    # (ุฌ) ูุฑุงุกุฉ "ูููุฉ ุงููุฑูุฑ ุงูุณุฑูุฉ" (Secret) ูู (ุงูุฎุทูุฉ 2)
    try:
        correct_password = st.secrets["PASSWORD"]
    except FileNotFoundError:
        st.error("ููู ุงูุฃุณุฑุงุฑ (Secrets) ุบูุฑ ููุฌูุฏ. ูุฑุฌู ุงูุงุชุตุงู ุจุงููุณุคูู.")
        return False

    # (ุฏ) ุญูู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ
    password = st.text_input("ูููุฉ ุงููุฑูุฑ:", type="password")

    if st.button("ุชุณุฌูู ุงูุฏุฎูู"):
        if password == correct_password:
            # (ูู) ูููุฉ ุงููุฑูุฑ ุตุญูุญุฉ!
            st.session_state.password_correct = True
            st.rerun() # (ุฃุนุฏ ุชุดุบูู ุงูุตูุญุฉ)
        else:
            st.error("ูููุฉ ุงููุฑูุฑ ุงูุชู ุฃุฏุฎูุชูุง ุบูุฑ ุตุญูุญุฉ.")

    return False # (ูุง ุชุณุชูุฑ ุฅุฐุง ูุงูุช ูููุฉ ุงููุฑูุฑ ุฎุงุทุฆุฉ)

# --- (2) "ุงูุชุทุจูู" (App) ุงูุฑุฆูุณู ---
if check_password():
    # --- "ุงูุขู" (Now) ูุญู ุขููููุ ุงุนุฑุถ "ุงูุชุทุจูู" (App) ---

    # (ุฃ) ุชููุฆุฉ ุงูุตูุญุฉ (ูุฌุจ ุฃู ูููู ุฃูู ุฃูุฑ ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู)
    st.set_page_config(
        page_title="I.R.O.N Dashboard",
        page_icon="๐",
        layout="wide" 
    )

    # (ุจ) ุนุฑุถ ุงูุดุนุงุฑ ูุงููุนูููุงุช
    # ุงููุณุงุฑ "logo.jpg" ุตุญูุญ ูุฃู Home.py ูู ุงููุฌูุฏ ุงูุฑุฆูุณู
    st.image("logo.jpg", width=400) 

    st.title("ุฃููุงู ุจู ูู ููุญุฉ ุชุญูู ูุดุฑูุน I.R.O.N")
    st.write("ููุฏ ููุช ุจุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ.")
    st.write("ูุฑุฌู ุงุฎุชูุงุฑ ุงูุชุทุจูู ุงููุทููุจ ูู ุงูุดุฑูุท ุงูุฌุงูุจู ุนูู ุงููุณุงุฑ.")
    st.write("---")
    st.header("ููููุงุช ุงููุดุฑูุน:")

    st.subheader("1. ๐ ููุญุฉ ุชุญูู I.R.O.N")
    st.write("ุงููููุฐุฌ ุงูุฑุฆูุณู ูููุญุงูุงุฉ ูุงูุฃูุซููุฉ ูููุธุงู ุงููุงุฆู ุงูุนุฑุงูู.")

    st.subheader("2. (ุชุทุจููุงุช ูุณุชูุจููุฉ)")
    st.write("ููุง ุณุชุธูุฑ ุงูุชุทุจููุงุช ุงููุณุชูุจููุฉ (ูุซู ุชุทุจูู ุงูุทูุณ).")
