import streamlit as st

# "ุงูุฏุงูุฉ" (Function) "ุงูุนุงูููุฉ" (Global) ููุญุต ูููุฉ ุงููุฑูุฑ
def check_password():
    # (ุฃ) ุงูุชุญูู ููุง ุฅุฐุง ููุง ูุฏ ุณุฌููุง ุงูุฏุฎูู ุจุงููุนู
    if st.session_state.get("password_correct", False):
        return True

    # (ุจ) ุฅุฐุง ูู ูุณุฌู ุงูุฏุฎููุ ุงุนุฑุถ "ุดุงุดุฉ" (Screen) ูููุฉ ุงููุฑูุฑ
    # (ููุงุญุธุฉ: "ุชููุฆุฉ ุงูุตูุญุฉ" (Page config) ููุง "ููุตูุญุฉ" (Page) "ุงูุณุฑูุฉ" (Secret) ููุท)
    st.set_page_config(page_title="I.R.O.N Login", page_icon="๐")
    st.title("๐ ุงููุตุงุฏูุฉ ูุทููุจุฉ")
    st.write("ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ ูููุตูู ุฅูู ููุญุฉ ุงูุชุญูู.")

    # (ุฌ) ูุฑุงุกุฉ "ูููุฉ ุงููุฑูุฑ ุงูุณุฑูุฉ" (Secret) (ุงูุชู ุฎุฒูุชูุง ูู Streamlit)
    try:
        correct_password = st.secrets["PASSWORD"]
    except KeyError: # (ูุฐุง ูู "ุงูุฎุทุฃ" (Error) "ุงูุตุญูุญ" (Correct) ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู "ุงูุณุฑ" (Secret))
        st.error("ููู ุงูุฃุณุฑุงุฑ (Secrets) ุบูุฑ ููุฌูุฏ ุฃู ุฃู ูููุฉ ุงููุฑูุฑ ุบูุฑ ูุนุฑูุฉ. ูุฑุฌู ุงูุงุชุตุงู ุจุงููุณุคูู.")
        return False

    # (ุฏ) ุญูู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ
    password = st.text_input("ูููุฉ ุงููุฑูุฑ:", type="password")

    if st.button("ุชุณุฌูู ุงูุฏุฎูู"):
        if password == correct_password:
            # (ูู) ูููุฉ ุงููุฑูุฑ ุตุญูุญุฉ!
            st.session_state.password_correct = True
            st.rerun() # (ุฃุนุฏ ุชุดุบูู ุงูุตูุญุฉ "ูุฅุธูุงุฑ" (Show) "ุงููุญุชูู" (Content))
        else:
            st.error("ูููุฉ ุงููุฑูุฑ ุงูุชู ุฃุฏุฎูุชูุง ุบูุฑ ุตุญูุญุฉ.")

    return False # (ูุง ุชุณุชูุฑ ุฅุฐุง ูุงูุช ูููุฉ ุงููุฑูุฑ ุฎุงุทุฆุฉ)
